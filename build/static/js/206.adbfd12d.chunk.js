/*! For license information please see 206.adbfd12d.chunk.js.LICENSE.txt */
"use strict";(self.webpackChunkdBank=self.webpackChunkdBank||[]).push([[206],{5206(e,t,n){n.d(t,{registerExactEvmScheme:()=>ke});var r=n(2555);const s="2.44.4";let i={getDocsUrl:e=>{let{docsBaseUrl:t,docsPath:n="",docsSlug:r}=e;return n?"".concat(null!==t&&void 0!==t?t:"https://viem.sh").concat(n).concat(r?"#".concat(r):""):void 0},version:"viem@".concat(s)};class o extends Error{constructor(e){var t,n,a;let c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const l=c.cause instanceof o?c.cause.details:null!==(u=c.cause)&&void 0!==u&&u.message?c.cause.message:c.details;var u;const h=c.cause instanceof o&&c.cause.docsPath||c.docsPath,d=null===(t=(n=i).getDocsUrl)||void 0===t?void 0:t.call(n,(0,r.A)((0,r.A)({},c),{},{docsPath:h}));super([e||"An error occurred.","",...c.metaMessages?[...c.metaMessages,""]:[],...d?["Docs: ".concat(d)]:[],...l?["Details: ".concat(l)]:[],...i.version?["Version: ".concat(i.version)]:[]].join("\n"),c.cause?{cause:c.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),this.details=l,this.docsPath=h,this.metaMessages=c.metaMessages,this.name=null!==(a=c.name)&&void 0!==a?a:this.name,this.shortMessage=e,this.version=s}walk(e){return a(this,e)}}function a(e,t){return null!==t&&void 0!==t&&t(e)?e:e&&"object"===typeof e&&"cause"in e&&void 0!==e.cause?a(e.cause,t):t?null:e}class c extends o{constructor(e){let{max:t,min:n,signed:r,size:s,value:i}=e;super('Number "'.concat(i,'" is not in safe ').concat(s?"".concat(8*s,"-bit ").concat(r?"signed":"unsigned"," "):"","integer range ").concat(t?"(".concat(n," to ").concat(t,")"):"(above ".concat(n,")")),{name:"IntegerOutOfRangeError"})}}class l extends o{constructor(e){let{givenSize:t,maxSize:n}=e;super("Size cannot exceed ".concat(n," bytes. Given size: ").concat(t," bytes."),{name:"SizeOverflowError"})}}class u extends o{constructor(e){let{size:t,targetSize:n,type:r}=e;super("".concat(r.charAt(0).toUpperCase()).concat(r.slice(1).toLowerCase()," size (").concat(t,") exceeds padding size (").concat(n,")."),{name:"SizeExceedsPaddingSizeError"})}}function h(e){let{dir:t,size:n=32}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return"string"===typeof e?function(e){let{dir:t,size:n=32}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(null===n)return e;const r=e.replace("0x","");if(r.length>2*n)throw new u({size:Math.ceil(r.length/2),targetSize:n,type:"hex"});return"0x".concat(r["right"===t?"padEnd":"padStart"](2*n,"0"))}(e,{dir:t,size:n}):function(e){let{dir:t,size:n=32}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(null===n)return e;if(e.length>n)throw new u({size:e.length,targetSize:n,type:"bytes"});const r=new Uint8Array(n);for(let s=0;s<n;s++){const i="right"===t;r[i?s:n-s-1]=e[i?s:e.length-s-1]}return r}(e,{dir:t,size:n})}function d(e){let{strict:t=!0}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return!!e&&("string"===typeof e&&(t?/^0x[0-9a-fA-F]*$/.test(e):e.startsWith("0x")))}function f(e){return d(e,{strict:!1})?Math.ceil((e.length-2)/2):e.length}function g(e,t){let{size:n}=t;if(f(e)>n)throw new l({givenSize:f(e),maxSize:n})}const p=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function v(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return"number"===typeof e||"bigint"===typeof e?m(e,t):"string"===typeof e?function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=b.encode(e);return y(n,t)}(e,t):"boolean"===typeof e?function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n="0x".concat(Number(e));if("number"===typeof t.size)return g(n,{size:t.size}),h(n,{size:t.size});return n}(e,t):y(e,t)}function y(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n="";for(let s=0;s<e.length;s++)n+=p[e[s]];const r="0x".concat(n);return"number"===typeof t.size?(g(r,{size:t.size}),h(r,{dir:"right",size:t.size})):r}function m(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{signed:n,size:r}=t,s=BigInt(e);let i;r?i=n?(1n<<8n*BigInt(r)-1n)-1n:2n**(8n*BigInt(r))-1n:"number"===typeof e&&(i=BigInt(Number.MAX_SAFE_INTEGER));const o="bigint"===typeof i&&n?-i-1n:0;if(i&&s>i||s<o){const t="bigint"===typeof e?"n":"";throw new c({max:i?"".concat(i).concat(t):void 0,min:"".concat(o).concat(t),signed:n,size:r,value:"".concat(e).concat(t)})}const a="0x".concat((n&&s<0?(1n<<BigInt(8*r))+BigInt(s):s).toString(16));return r?h(a,{size:r}):a}const b=new TextEncoder;var w={TransferWithAuthorization:[{name:"from",type:"address"},{name:"to",type:"address"},{name:"value",type:"uint256"},{name:"validAfter",type:"uint256"},{name:"validBefore",type:"uint256"},{name:"nonce",type:"bytes32"}]};function z(){const e=(globalThis.crypto,globalThis.crypto);if(!e)throw new Error("Crypto API not available");return v(e.getRandomValues(new Uint8Array(32)))}class x extends o{constructor(e){let{address:t}=e;super('Address "'.concat(t,'" is invalid.'),{metaMessages:["- Address must be a hex value of 20 bytes (40 hex characters).","- Address must match its checksum counterpart."],name:"InvalidAddressError"})}}const A=new TextEncoder;function I(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return"number"===typeof e||"bigint"===typeof e?function(e,t){const n=m(e,t);return L(n)}(e,t):"boolean"===typeof e?function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=new Uint8Array(1);if(n[0]=Number(e),"number"===typeof t.size)return g(n,{size:t.size}),h(n,{size:t.size});return n}(e,t):d(e)?L(e,t):M(e,t)}const k=48,E=57,B=65,S=70,O=97,U=102;function P(e){return e>=k&&e<=E?e-k:e>=B&&e<=S?e-(B-10):e>=O&&e<=U?e-(O-10):void 0}function L(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;t.size&&(g(n,{size:t.size}),n=h(n,{dir:"right",size:t.size}));let r=n.slice(2);r.length%2&&(r="0".concat(r));const s=r.length/2,i=new Uint8Array(s);for(let a=0,c=0;a<s;a++){const e=P(r.charCodeAt(c++)),t=P(r.charCodeAt(c++));if(void 0===e||void 0===t)throw new o('Invalid byte sequence ("'.concat(r[c-2]).concat(r[c-1],'" in "').concat(r,'").'));i[a]=16*e+t}return i}function M(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=A.encode(e);return"number"===typeof t.size?(g(n,{size:t.size}),h(n,{dir:"right",size:t.size})):n}const T=BigInt(2**32-1),C=BigInt(32);function j(e){return arguments.length>1&&void 0!==arguments[1]&&arguments[1]?{h:Number(e&T),l:Number(e>>C&T)}:{h:0|Number(e>>C&T),l:0|Number(e&T)}}function N(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=e.length;let r=new Uint32Array(n),s=new Uint32Array(n);for(let i=0;i<n;i++){const{h:n,l:o}=j(e[i],t);[r[i],s[i]]=[n,o]}return[r,s]}const F=(e,t,n)=>e<<n|t>>>32-n,D=(e,t,n)=>t<<n|e>>>32-n,q=(e,t,n)=>t<<n-32|e>>>64-n,X=(e,t,n)=>e<<n-32|t>>>64-n;function V(e){if(!Number.isSafeInteger(e)||e<0)throw new Error("positive integer expected, got "+e)}function R(e){if(!((t=e)instanceof Uint8Array||ArrayBuffer.isView(t)&&"Uint8Array"===t.constructor.name))throw new Error("Uint8Array expected");for(var t,n=arguments.length,r=new Array(n>1?n-1:0),s=1;s<n;s++)r[s-1]=arguments[s];if(r.length>0&&!r.includes(e.length))throw new Error("Uint8Array expected of length "+r+", got length="+e.length)}function W(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function _(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(let r=0;r<t.length;r++)t[r].fill(0)}const G=(()=>68===new Uint8Array(new Uint32Array([287454020]).buffer)[0])();function H(e){return e<<24&4278190080|e<<8&16711680|e>>>8&65280|e>>>24&255}const $=G?e=>e:function(e){for(let t=0;t<e.length;t++)e[t]=H(e[t]);return e};function J(e){if("string"!==typeof e)throw new Error("string expected");return new Uint8Array((new TextEncoder).encode(e))}function K(e){return"string"===typeof e&&(e=J(e)),R(e),e}class Q{}function Y(e){const t=t=>e().update(K(t)).digest(),n=e();return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=()=>e(),t}const Z=BigInt(0),ee=BigInt(1),te=BigInt(2),ne=BigInt(7),re=BigInt(256),se=BigInt(113),ie=[],oe=[],ae=[];for(let Ee=0,Be=ee,Se=1,Oe=0;Ee<24;Ee++){[Se,Oe]=[Oe,(2*Se+3*Oe)%5],ie.push(2*(5*Oe+Se)),oe.push((Ee+1)*(Ee+2)/2%64);let e=Z;for(let t=0;t<7;t++)Be=(Be<<ee^(Be>>ne)*se)%re,Be&te&&(e^=ee<<(ee<<BigInt(t))-ee);ae.push(e)}const ce=N(ae,!0),le=ce[0],ue=ce[1],he=(e,t,n)=>n>32?q(e,t,n):F(e,t,n),de=(e,t,n)=>n>32?X(e,t,n):D(e,t,n);class fe extends Q{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:24;if(super(),this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,this.enableXOF=!1,this.blockLen=e,this.suffix=t,this.outputLen=n,this.enableXOF=r,this.rounds=s,V(n),!(0<e&&e<200))throw new Error("only keccak-f1600 function is supported");var i;this.state=new Uint8Array(200),this.state32=(i=this.state,new Uint32Array(i.buffer,i.byteOffset,Math.floor(i.byteLength/4)))}clone(){return this._cloneInto()}keccak(){$(this.state32),function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:24;const n=new Uint32Array(10);for(let r=24-t;r<24;r++){for(let r=0;r<10;r++)n[r]=e[r]^e[r+10]^e[r+20]^e[r+30]^e[r+40];for(let r=0;r<10;r+=2){const t=(r+8)%10,s=(r+2)%10,i=n[s],o=n[s+1],a=he(i,o,1)^n[t],c=de(i,o,1)^n[t+1];for(let n=0;n<50;n+=10)e[r+n]^=a,e[r+n+1]^=c}let t=e[2],s=e[3];for(let n=0;n<24;n++){const r=oe[n],i=he(t,s,r),o=de(t,s,r),a=ie[n];t=e[a],s=e[a+1],e[a]=i,e[a+1]=o}for(let r=0;r<50;r+=10){for(let t=0;t<10;t++)n[t]=e[r+t];for(let t=0;t<10;t++)e[r+t]^=~n[(t+2)%10]&n[(t+4)%10]}e[0]^=le[r],e[1]^=ue[r]}_(n)}(this.state32,this.rounds),$(this.state32),this.posOut=0,this.pos=0}update(e){W(this),R(e=K(e));const{blockLen:t,state:n}=this,r=e.length;for(let s=0;s<r;){const i=Math.min(t-this.pos,r-s);for(let t=0;t<i;t++)n[this.pos++]^=e[s++];this.pos===t&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:t,pos:n,blockLen:r}=this;e[n]^=t,0!==(128&t)&&n===r-1&&this.keccak(),e[r-1]^=128,this.keccak()}writeInto(e){W(this,!1),R(e),this.finish();const t=this.state,{blockLen:n}=this;for(let r=0,s=e.length;r<s;){this.posOut>=n&&this.keccak();const i=Math.min(n-this.posOut,s-r);e.set(t.subarray(this.posOut,this.posOut+i),r),this.posOut+=i,r+=i}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return V(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(function(e,t){R(e);const n=t.outputLen;if(e.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,_(this.state)}_cloneInto(e){const{blockLen:t,suffix:n,outputLen:r,rounds:s,enableXOF:i}=this;return e||(e=new fe(t,n,r,i,s)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=s,e.suffix=n,e.outputLen=r,e.enableXOF=i,e.destroyed=this.destroyed,e}}const ge=(e,t,n)=>Y(()=>new fe(t,e,n)),pe=(()=>ge(1,136,32))();class ve extends Map{constructor(e){super(),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=e}get(e){const t=super.get(e);return super.has(e)&&void 0!==t&&(this.delete(e),super.set(e,t)),t}set(e,t){if(super.set(e,t),this.maxSize&&this.size>this.maxSize){const e=this.keys().next().value;e&&this.delete(e)}return this}}const ye=/^0x[a-fA-F0-9]{40}$/,me=new ve(8192);const be=new ve(8192);function we(e,t){if(be.has("".concat(e,".").concat(t)))return be.get("".concat(e,".").concat(t));const n=t?"".concat(t).concat(e.toLowerCase()):e.substring(2).toLowerCase(),r=function(e,t){const n=t||"hex",r=pe(d(e,{strict:!1})?I(e):e);return"bytes"===n?r:v(r)}(M(n),"bytes"),s=(t?n.substring("".concat(t,"0x").length):n).split("");for(let o=0;o<40;o+=2)r[o>>1]>>4>=8&&s[o]&&(s[o]=s[o].toUpperCase()),(15&r[o>>1])>=8&&s[o+1]&&(s[o+1]=s[o+1].toUpperCase());const i="0x".concat(s.join(""));return be.set("".concat(e,".").concat(t),i),i}function ze(e,t){if(!function(e,t){const{strict:n=!0}=null!==t&&void 0!==t?t:{},r="".concat(e,".").concat(n);if(me.has(r))return me.get(r);const s=!!ye.test(e)&&(e.toLowerCase()===e||!n||we(e)===e);return me.set(r,s),s}(e,{strict:!1}))throw new x({address:e});return we(e,t)}var xe=class{constructor(e){this.signer=e,this.scheme="exact"}async createPaymentPayload(e,t){const n=z(),r=Math.floor(Date.now()/1e3),s={from:this.signer.address,to:ze(t.payTo),value:t.amount,validAfter:(r-600).toString(),validBefore:(r+t.maxTimeoutSeconds).toString(),nonce:n};return{x402Version:e,payload:{authorization:s,signature:await this.signAuthorization(s,t)}}}async signAuthorization(e,t){var n,r;const s=parseInt(t.network.split(":")[1]);if(null===(n=t.extra)||void 0===n||!n.name||null===(r=t.extra)||void 0===r||!r.version)throw new Error("EIP-712 domain parameters (name, version) are required in payment requirements for asset ".concat(t.asset));const{name:i,version:o}=t.extra,a={name:i,version:o,chainId:s,verifyingContract:ze(t.asset)},c={from:ze(e.from),to:ze(e.to),value:BigInt(e.value),validAfter:BigInt(e.validAfter),validBefore:BigInt(e.validBefore),nonce:e.nonce};return await this.signer.signTypedData({domain:a,types:w,primaryType:"TransferWithAuthorization",message:c})}},Ae=["abstract","abstract-testnet","base-sepolia","base","avalanche-fuji","avalanche","iotex","sei","sei-testnet","polygon","polygon-amoy","peaq","story","educhain","skale-base-sepolia"],Ie=class{constructor(e){this.signer=e,this.scheme="exact"}async createPaymentPayload(e,t){const n=t,r=z(),s=Math.floor(Date.now()/1e3),i={from:this.signer.address,to:ze(n.payTo),value:n.maxAmountRequired,validAfter:(s-600).toString(),validBefore:(s+n.maxTimeoutSeconds).toString(),nonce:r},o={authorization:i,signature:await this.signAuthorization(i,n)};return{x402Version:e,scheme:n.scheme,network:n.network,payload:o}}async signAuthorization(e,t){var n,r;const s={base:8453,"base-sepolia":84532,ethereum:1,sepolia:11155111,polygon:137,"polygon-amoy":80002}[t.network]||1;if(null===(n=t.extra)||void 0===n||!n.name||null===(r=t.extra)||void 0===r||!r.version)throw new Error("EIP-712 domain parameters (name, version) are required in payment requirements for asset ".concat(t.asset));const{name:i,version:o}=t.extra,a={name:i,version:o,chainId:s,verifyingContract:ze(t.asset)},c={from:ze(e.from),to:ze(e.to),value:BigInt(e.value),validAfter:BigInt(e.validAfter),validBefore:BigInt(e.validBefore),nonce:e.nonce};return await this.signer.signTypedData({domain:a,types:w,primaryType:"TransferWithAuthorization",message:c})}};function ke(e,t){return t.networks&&t.networks.length>0?t.networks.forEach(n=>{e.register(n,new xe(t.signer))}):e.register("eip155:*",new xe(t.signer)),Ae.forEach(n=>{e.registerV1(n,new Ie(t.signer))}),t.policies&&t.policies.forEach(t=>{e.registerPolicy(t)}),e}}}]);
//# sourceMappingURL=206.adbfd12d.chunk.js.map